(this["webpackJsonpnome-do-projeto"]=this["webpackJsonpnome-do-projeto"]||[]).push([[0],{27:function(e,t,c){},28:function(e,t,c){},29:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var n=c(21),s=c.n(n),i=c(3),a=(c(27),c(28),c(1)),o=c(6),r=c(2),l=(c(29),c(0));function j(){return Object(l.jsx)("header",{children:Object(l.jsx)(o.b,{to:"/",children:Object(l.jsx)("p",{children:"CINEFLEX"})})})}c(31),c(32);function u(e){var t=e.text;return Object(l.jsx)("div",{className:"title",children:t})}c(33);function d(e){var t=e.id,c=e.src,n=e.alt;return Object(l.jsx)(o.b,{to:t?"/filme/".concat(t):"",children:Object(l.jsx)("li",{className:"poster",children:Object(l.jsx)("img",{src:c,alt:n})})})}c(34);function b(){return Object(l.jsx)("p",{children:"Carregando..."})}var O=c(7),x=c.n(O);function m(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){x.a.get("https://mock-api.driven.com.br/api/v4/cineflex/movies").then((function(e){return n(e.data)})).catch((function(e){return alert(e)}))}),[]),null===c?Object(l.jsx)(b,{}):Object(l.jsxs)("main",{className:"home",children:[Object(l.jsx)(u,{text:"Selecione o filme"}),Object(l.jsx)("ul",{className:"movie-box",children:c.map((function(e){return Object(l.jsx)(d,{id:e.id,src:e.posterURL,alt:"Poster de ".concat(e.title)},e.id)}))})]})}c(53),c(54),c(55);function f(e){var t=e.name,c=e.id;return Object(l.jsx)(o.b,{to:"/assentos/".concat(c),children:Object(l.jsx)("button",{className:"showtime",children:t})})}function h(e){var t=e.weekday,c=e.date,n=e.showtimes;return Object(l.jsxs)("div",{className:"day",children:["".concat(t," - ").concat(c),Object(l.jsx)("div",{className:"showtime-box",children:n.map((function(e){return Object(l.jsx)(f,{name:e.name,id:e.id},e.id)}))})]})}c(56);function v(e){var t=e.posterURL,c=e.movieTitle,n=e.id,s=e.weekday,i=e.showtime;return Object(l.jsxs)("footer",{children:[Object(l.jsx)("ul",{children:Object(l.jsx)(d,{src:t,alt:c,id:n})}),Object(l.jsxs)("div",{className:"rodape-text",children:[c,Object(l.jsx)("p",{children:s?"".concat(s," - ").concat(i):""})]})]})}function p(){var e=Object(r.g)().filmId,t=Object(a.useState)(null),c=Object(i.a)(t,2),n=c[0],s=c[1];return Object(a.useEffect)((function(){x.a.get("https://mock-api.driven.com.br/api/v4/cineflex/movies/".concat(e,"/showtimes")).then((function(e){return s(e.data)})).catch((function(e){return alert(e)}))}),[]),null===n?Object(l.jsx)(b,{}):Object(l.jsxs)("article",{className:"sessionsPage",children:[Object(l.jsx)(u,{text:"Selecione o hor\xe1rio"}),Object(l.jsx)("section",{className:"days-box",children:n.days.map((function(e){return Object(l.jsx)(h,{weekday:e.weekday,date:e.date,showtimes:e.showtimes},e.id)}))}),Object(l.jsx)(v,{posterURL:n.posterURL,movieTitle:n.title,id:n.id})]})}var g=c(22);c(57),c(58);function N(e){var t=e.number,c=e.isAvailable,n=e.toggleSelect,s=e.isSelected,i=e.id;return Object(l.jsx)("button",{className:c?s?"seat selected":"seat":"seat unavalable",onClick:c?function(){return n(i)}:i?function(){return alert("Esse assento n\xe3o est\xe1 dispon\xedvel")}:function(){},children:0!==Number(t)?t.padStart(2,"0"):""})}c(59);function S(){return Object(l.jsxs)("div",{className:"glossary",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)(N,{number:"",isAvailable:!0,toggleSelect:function(){},isSelected:!0}),"Selecionado"]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(N,{number:"",isAvailable:!0,toggleSelect:function(){},isSelected:!1}),"Dispon\xedvel"]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(N,{number:"",isAvailable:!1,toggleSelect:function(){},isSelected:!1}),"Indispon\xedvel"]})]})}c(60);function w(e){var t=e.title,c=e.value,n=e.attValue;return Object(l.jsxs)("div",{className:"form",children:["".concat(t[0].toUpperCase()+t.slice(1)," do comprador:"),Object(l.jsx)("input",{placeholder:"Digite seu ".concat(t,"..."),value:c,onChange:n,autoComplete:"false"})]})}c(61);function k(e){var t=e.onclick,c=e.text;return Object(l.jsx)("button",{className:"classic",onClick:t,children:c})}function y(e){var t=e.setReservationData,c=Object(a.useState)(null),n=Object(i.a)(c,2),s=n[0],o=n[1],j=Object(r.g)().assentosId;Object(a.useEffect)((function(){x.a.get("https://mock-api.driven.com.br/api/v4/cineflex/showtimes/".concat(j,"/seats")).then((function(e){return o(e.data)})).catch((function(e){return alert(e)}))}),[]);var d=Object(r.f)(),O=Object(a.useState)(""),m=Object(i.a)(O,2),f=m[0],h=m[1],p=Object(a.useState)(""),y=Object(i.a)(p,2),C=y[0],R=y[1],A=Object(a.useState)([]),E=Object(i.a)(A,2),I=E[0],L=E[1];function U(e){var t=Object(g.a)(I);t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),L(t)}return null===s?Object(l.jsx)(b,{}):Object(l.jsxs)("article",{className:"lugares",children:[Object(l.jsx)(u,{text:"Selecione o(s) assento(s)"}),Object(l.jsxs)("section",{className:"seats-box",children:[s.seats.map((function(e,t){return Object(l.jsx)(N,{number:e.name,isAvailable:e.isAvailable,id:e.id,toggleSelect:U,isSelected:I.includes(e.id)},e.id)})),Object(l.jsx)(S,{})]}),Object(l.jsx)(w,{title:"nome",value:f,attValue:function(e){return h(e.target.value)}}),Object(l.jsx)(w,{title:"CPF",value:C,attValue:function(e){return R(e.target.value)}}),Object(l.jsx)(k,{onclick:function(){(function(){if(f&&C&&void 0!==I[0])return!0;return!1})()&&(t({ids:I,name:f,cpf:C,movie:s.movie.title,date:s.day.date,showtime:s.name}),d.push("/sucesso"))},text:"Reservar assento(s)"}),Object(l.jsx)(v,{posterURL:s.movie.posterURL,movieTitle:s.movie.title,id:s.movie.id,weekday:s.day.weekday,showtime:s.name})]})}c(62),c(63);function C(e){var t=e.title,c=e.children;return Object(l.jsxs)("div",{className:"text",children:[Object(l.jsx)("h3",{children:t}),Object(l.jsx)("div",{className:"content",children:c})]})}function R(e){var t=e.reservationData,c=Object(a.useState)(null),n=Object(i.a)(c,2),s=n[0],r=n[1];return Object(a.useEffect)((function(){x.a.post("https://mock-api.driven.com.br/api/v4/cineflex/seats/book-many",{ids:t.ids,name:t.name,cpf:t.cpf}).then((function(e){r(!0)})).catch((function(e){return r(!1)}))}),[]),null===s?Object(l.jsx)(b,{}):s&&t.name?Object(l.jsxs)("article",{className:"success-page",children:[Object(l.jsx)(u,{text:"Pedido feito com sucesso!"}),Object(l.jsxs)("section",{className:"text-box",children:[Object(l.jsxs)(C,{title:"Filme e sess\xe3o",children:[Object(l.jsx)("p",{children:t.movie}),Object(l.jsxs)("p",{children:[t.date," ",t.showtime]})]}),Object(l.jsx)(C,{title:"Ingressos",children:t.ids.map((function(e){return Object(l.jsx)("p",{children:"Assento ".concat((e-1)%50+1)},e)}))}),Object(l.jsxs)(C,{title:"Comprador",children:[Object(l.jsxs)("p",{children:["Nome: ",t.name]}),Object(l.jsxs)("p",{children:["CPF: ",t.cpf]})]})]}),Object(l.jsx)(o.b,{to:"/",children:Object(l.jsx)(k,{onclick:function(){},text:"Voltar pra Home"})})]}):Object(l.jsxs)("article",{className:"success-page",children:[Object(l.jsx)(u,{text:"Ocorreu um erro, tente mais tarde!"}),Object(l.jsx)(o.b,{to:"/",children:Object(l.jsx)(k,{onclick:function(){},text:"Voltar pra Home"})})]})}function A(){var e=Object(a.useState)({ids:[],name:"",cpf:"",movie:"",date:"",showtime:""}),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(l.jsxs)(o.a,{children:[Object(l.jsx)(j,{}),Object(l.jsxs)(r.c,{children:[Object(l.jsx)(r.a,{path:"/",element:Object(l.jsx)(m,{})}),Object(l.jsx)(r.a,{path:"/filme/:filmId",element:Object(l.jsx)(p,{})}),Object(l.jsx)(r.a,{path:"/assentos/:assentosId",element:Object(l.jsx)(y,{setReservationData:n})}),Object(l.jsx)(r.a,{path:"/sucesso",element:Object(l.jsx)(R,{reservationData:c})})]})]})}s.a.render(Object(l.jsx)(A,{}),document.querySelector(".root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.36640356.chunk.js.map