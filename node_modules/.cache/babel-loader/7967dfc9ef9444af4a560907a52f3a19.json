{"ast":null,"code":"var _jsxFileName = \"/home/guilherme/Projetos/projeto_09_cineflixReact/src/Lugares/Lugares.js\",\n    _s = $RefreshSig$();\n\nimport \"./styles.css\";\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport Rodape from \"../Outros/Rodape/Rodape\";\nimport Loading from \"../Outros/Loading/Loading\";\nimport Titulo from \"../Outros/Titulo/Titulo\";\nimport Cadeira from \"./Cadeira/Cadeira\";\nimport Infos from \"./Infos/Infos\";\nimport Dados from \"./Dados/Dados\";\nimport Botao from \"../Outros/Botao/Botao\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Lugares(_ref) {\n  _s();\n\n  let {\n    setReservationData\n  } = _ref;\n  const [lugaresDATA, setLugaresData] = useState(null);\n  const {\n    assentosId\n  } = useParams();\n  useEffect(() => {\n    axios.get(`https://mock-api.driven.com.br/api/v4/cineflex/showtimes/${assentosId}/seats`).then(response => setLugaresData(response.data)).catch(error => alert(error));\n  }, []);\n  let navigate = useNavigate();\n  const [nameValue, setNameValue] = useState(\"\");\n  const [CPFValue, SetCPFValue] = useState(\"\");\n  const [selectedSeats, setSelectedSeats] = useState([]);\n\n  function toggleSelect(seatId) {\n    let newSelectedSeats = [...selectedSeats];\n\n    if (newSelectedSeats.includes(seatId)) {\n      newSelectedSeats.splice(newSelectedSeats.indexOf(seatId), 1);\n    } else {\n      newSelectedSeats.push(seatId);\n    }\n\n    setSelectedSeats(newSelectedSeats);\n  }\n\n  function finish() {\n    if (verifyInfo()) {\n      setReservationData({\n        ids: selectedSeats,\n        name: nameValue,\n        cpf: CPFValue,\n        movie: lugaresDATA.movie.title,\n        date: lugaresDATA.day.date,\n        showtime: lugaresDATA.name\n      });\n      navigate(\"/sucesso\");\n    }\n  }\n\n  function verifyInfo() {\n    if (nameValue && CPFValue && selectedSeats[0] !== undefined) {\n      return true;\n    }\n\n    return false;\n  }\n\n  if (lugaresDATA === null) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    className: \"lugares\",\n    children: [/*#__PURE__*/_jsxDEV(Titulo, {\n      text: \"Selecione o(s) assento(s)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"seats-box\",\n      children: [lugaresDATA.seats.map((seat, i) => /*#__PURE__*/_jsxDEV(Cadeira, {\n        number: seat.name,\n        isAvailable: seat.isAvailable,\n        id: seat.id,\n        toggleSelect: toggleSelect,\n        isSelected: selectedSeats.includes(seat.id)\n      }, seat.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(Infos, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dados, {\n      title: \"nome\",\n      value: nameValue,\n      attValue: event => setNameValue(event.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dados, {\n      title: \"CPF\",\n      value: CPFValue,\n      attValue: event => SetCPFValue(event.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Botao, {\n      onclick: finish,\n      text: \"Reservar assento(s)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Rodape, {\n      posterURL: lugaresDATA.movie.posterURL,\n      movieTitle: lugaresDATA.movie.title,\n      id: lugaresDATA.movie.id,\n      weekday: lugaresDATA.day.weekday,\n      showtime: lugaresDATA.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Lugares, \"CrMv+7EPqicIurTv/Eq8ypYb0Tc=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = Lugares;\n\nvar _c;\n\n$RefreshReg$(_c, \"Lugares\");","map":{"version":3,"sources":["/home/guilherme/Projetos/projeto_09_cineflixReact/src/Lugares/Lugares.js"],"names":["axios","useState","useEffect","useParams","useNavigate","Rodape","Loading","Titulo","Cadeira","Infos","Dados","Botao","Lugares","setReservationData","lugaresDATA","setLugaresData","assentosId","get","then","response","data","catch","error","alert","navigate","nameValue","setNameValue","CPFValue","SetCPFValue","selectedSeats","setSelectedSeats","toggleSelect","seatId","newSelectedSeats","includes","splice","indexOf","push","finish","verifyInfo","ids","name","cpf","movie","title","date","day","showtime","undefined","seats","map","seat","i","isAvailable","id","event","target","value","posterURL","weekday"],"mappings":"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","sourcesContent":["import \"./styles.css\";\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport Rodape from \"../Outros/Rodape/Rodape\";\nimport Loading from \"../Outros/Loading/Loading\";\nimport Titulo from \"../Outros/Titulo/Titulo\";\nimport Cadeira from \"./Cadeira/Cadeira\";\nimport Infos from \"./Infos/Infos\";\nimport Dados from \"./Dados/Dados\";\nimport Botao from \"../Outros/Botao/Botao\";\n\nexport default function Lugares({ setReservationData }) {\n    const [lugaresDATA, setLugaresData] = useState(null);\n    const { assentosId } = useParams()\n    useEffect(() => {\n        axios.get(`https://mock-api.driven.com.br/api/v4/cineflex/showtimes/${assentosId}/seats`)\n            .then((response) => setLugaresData(response.data))\n            .catch((error) => alert(error))\n    }, [])\n    let navigate = useNavigate();\n    const [nameValue, setNameValue] = useState(\"\");\n    const [CPFValue, SetCPFValue] = useState(\"\");\n    const [selectedSeats, setSelectedSeats] = useState([]);\n    \n    function toggleSelect(seatId) {\n        let newSelectedSeats = [...selectedSeats];\n        if(newSelectedSeats.includes(seatId)){\n            newSelectedSeats.splice(newSelectedSeats.indexOf(seatId), 1);\n        }else{\n            newSelectedSeats.push(seatId);\n        }\n        setSelectedSeats(newSelectedSeats);\n    }\n    function finish() {\n        if(verifyInfo()){\n            setReservationData({\n                ids: selectedSeats,\n                name: nameValue,\n                cpf: CPFValue,\n                movie: lugaresDATA.movie.title,\n                date: lugaresDATA.day.date,\n                showtime: lugaresDATA.name\n            });\n            navigate(\"/sucesso\");\n        }\n    }\n    function verifyInfo() {\n        if (nameValue && CPFValue && selectedSeats[0] !== undefined) {\n            return true;\n        }\n        return false;\n    }\n    if (lugaresDATA === null) {\n        return (\n            <Loading />\n        )\n    }\n    return (\n        <article className=\"lugares\" >\n            <Titulo text=\"Selecione o(s) assento(s)\" />\n            <section className=\"seats-box\">\n                {lugaresDATA.seats.map((seat, i) => (\n                    <Cadeira\n                        number={seat.name}\n                        isAvailable={seat.isAvailable}\n                        key={seat.id}\n                        id={seat.id}\n                        toggleSelect={toggleSelect}\n                        isSelected={selectedSeats.includes(seat.id)}\n                    />))}\n                <Infos />\n            </section>\n            <Dados title=\"nome\" value={nameValue} attValue={(event) => setNameValue(event.target.value)} />\n            <Dados title=\"CPF\" value={CPFValue} attValue={(event) => SetCPFValue(event.target.value)} />\n            <Botao onclick={finish} text=\"Reservar assento(s)\" />\n            <Rodape\n                posterURL={lugaresDATA.movie.posterURL}\n                movieTitle={lugaresDATA.movie.title}\n                id={lugaresDATA.movie.id}\n                weekday={lugaresDATA.day.weekday}\n                showtime={lugaresDATA.name}\n            />\n        </article>\n    )\n}"]},"metadata":{},"sourceType":"module"}