{"ast":null,"code":"import _slicedToArray from\"/home/guilherme/Projetos/projeto_09_cineflixReact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./styles.css\";import axios from\"axios\";import Title from\"../Outros/Titulo/Titulo\";import{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import Loading from\"../Outros/Loading/Loading\";import Text from\"./Texto/Texto\";import Button from\"../Outros/Botao/Botao\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SuccessPage(_ref){var reservationData=_ref.reservationData;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),response=_useState2[0],setResponse=_useState2[1];useEffect(function(){axios.post(\"https://mock-api.driven.com.br/api/v4/cineflex/seats/book-many\",{ids:reservationData.ids,name:reservationData.name,cpf:reservationData.cpf}).then(function(response){setResponse(true);}).catch(function(error){return setResponse(false);});},[]);if(response===null){return/*#__PURE__*/_jsx(Loading,{});}if(response&&reservationData.name){return/*#__PURE__*/_jsxs(\"article\",{className:\"success-page\",children:[/*#__PURE__*/_jsx(Title,{text:\"Pedido feito com sucesso!\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"text-box\",children:[/*#__PURE__*/_jsxs(Text,{title:\"Filme e sess\\xE3o\",children:[/*#__PURE__*/_jsx(\"p\",{children:reservationData.movie}),/*#__PURE__*/_jsxs(\"p\",{children:[reservationData.date,\" \",reservationData.showtime]})]}),/*#__PURE__*/_jsx(Text,{title:\"Ingressos\",children:reservationData.ids.map(function(id){return/*#__PURE__*/_jsx(\"p\",{children:\"Assento \".concat((id-1)%50+1)},id);})}),/*#__PURE__*/_jsxs(Text,{title:\"Comprador\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Nome: \",reservationData.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"CPF: \",reservationData.cpf]})]})]}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(Button,{onclick:function onclick(){},text:\"Voltar pra Home\"})})]});}else{return/*#__PURE__*/_jsxs(\"article\",{className:\"success-page\",children:[/*#__PURE__*/_jsx(Title,{text:\"Ocorreu um erro, tente mais tarde!\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(Button,{onclick:function onclick(){},text:\"Voltar pra Home\"})})]});}}","map":{"version":3,"sources":["/home/guilherme/Projetos/projeto_09_cineflixReact/src/SuccessPage/SuccessPage.js"],"names":["axios","Title","useEffect","useState","Link","Loading","Text","Button","SuccessPage","reservationData","response","setResponse","post","ids","name","cpf","then","catch","error","movie","date","showtime","map","id"],"mappings":"uIAAA,MAAO,cAAP,CACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,yBAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,2BAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,eAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,uBAAnB,C,wFAEA,cAAe,SAASC,CAAAA,WAAT,MAA0C,IAAnBC,CAAAA,eAAmB,MAAnBA,eAAmB,CACrD,cAAgCN,QAAQ,CAAC,IAAD,CAAxC,wCAAOO,QAAP,eAAiBC,WAAjB,eACAT,SAAS,CAAC,UAAM,CACZF,KAAK,CAACY,IAAN,CAAW,gEAAX,CAA6E,CACzEC,GAAG,CAAEJ,eAAe,CAACI,GADoD,CAEzEC,IAAI,CAAEL,eAAe,CAACK,IAFmD,CAGzEC,GAAG,CAAEN,eAAe,CAACM,GAHoD,CAA7E,EAKKC,IALL,CAKU,SAACN,QAAD,CAAc,CAAEC,WAAW,CAAC,IAAD,CAAX,CAAmB,CAL7C,EAMKM,KANL,CAMW,SAACC,KAAD,QAAWP,CAAAA,WAAW,CAAC,KAAD,CAAtB,EANX,EAOH,CARQ,CAQN,EARM,CAAT,CASA,GAAID,QAAQ,GAAK,IAAjB,CAAuB,CACnB,mBACI,KAAC,OAAD,IADJ,CAGH,CACD,GAAIA,QAAQ,EAAID,eAAe,CAACK,IAAhC,CAAsC,CAClC,mBACI,iBAAS,SAAS,CAAC,cAAnB,wBACI,KAAC,KAAD,EAAO,IAAI,CAAC,2BAAZ,EADJ,cAEI,iBAAS,SAAS,CAAC,UAAnB,wBACI,MAAC,IAAD,EAAM,KAAK,CAAC,mBAAZ,wBACI,mBAAIL,eAAe,CAACU,KAApB,EADJ,cAEI,qBAAIV,eAAe,CAACW,IAApB,KAA2BX,eAAe,CAACY,QAA3C,GAFJ,GADJ,cAKI,KAAC,IAAD,EAAM,KAAK,CAAC,WAAZ,UACKZ,eAAe,CAACI,GAAhB,CAAoBS,GAApB,CAAwB,SAACC,EAAD,qBAAQ,qCAA2B,CAACA,EAAE,CAAG,CAAN,EAAW,EAAZ,CAAkB,CAA5C,GAAQA,EAAR,CAAR,EAAxB,CADL,EALJ,cAQI,MAAC,IAAD,EAAM,KAAK,CAAC,WAAZ,wBACI,8BAAUd,eAAe,CAACK,IAA1B,GADJ,cAEI,6BAASL,eAAe,CAACM,GAAzB,GAFJ,GARJ,GAFJ,cAeI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBACI,KAAC,MAAD,EAAQ,OAAO,CAAE,kBAAM,CAAG,CAA1B,CAA4B,IAAI,CAAC,iBAAjC,EADJ,EAfJ,GADJ,CAqBH,CAtBD,IAsBO,CACH,mBACI,iBAAS,SAAS,CAAC,cAAnB,wBACI,KAAC,KAAD,EAAO,IAAI,CAAC,oCAAZ,EADJ,cAEI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBACI,KAAC,MAAD,EAAQ,OAAO,CAAE,kBAAM,CAAG,CAA1B,CAA4B,IAAI,CAAC,iBAAjC,EADJ,EAFJ,GADJ,CAQH,CACJ","sourcesContent":["import \"./styles.css\";\nimport axios from \"axios\";\nimport Title from \"../Outros/Titulo/Titulo\";\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Loading from \"../Outros/Loading/Loading\";\nimport Text from \"./Texto/Texto\";\nimport Button from \"../Outros/Botao/Botao\";\n\nexport default function SuccessPage({ reservationData }) {\n    const [response, setResponse] = useState(null);\n    useEffect(() => {\n        axios.post(\"https://mock-api.driven.com.br/api/v4/cineflex/seats/book-many\", {\n            ids: reservationData.ids,\n            name: reservationData.name,\n            cpf: reservationData.cpf\n        })\n            .then((response) => { setResponse(true) })\n            .catch((error) => setResponse(false))\n    }, [])\n    if (response === null) {\n        return (\n            <Loading />\n        )\n    }\n    if (response && reservationData.name) {\n        return (\n            <article className=\"success-page\" >\n                <Title text=\"Pedido feito com sucesso!\" />\n                <section className=\"text-box\" >\n                    <Text title=\"Filme e sessÃ£o\">\n                        <p>{reservationData.movie}</p>\n                        <p>{reservationData.date} {reservationData.showtime}</p>\n                    </Text>\n                    <Text title=\"Ingressos\">\n                        {reservationData.ids.map((id) => <p key={id} >{`Assento ${(((id - 1) % 50) + 1)}`}</p>)}\n                    </Text>\n                    <Text title=\"Comprador\">\n                        <p>Nome: {reservationData.name}</p>\n                        <p>CPF: {reservationData.cpf}</p>\n                    </Text>\n                </section>\n                <Link to=\"/\">\n                    <Button onclick={() => { }} text=\"Voltar pra Home\" />\n                </Link>\n            </article>\n        )\n    } else {\n        return (\n            <article className=\"success-page\" >\n                <Title text=\"Ocorreu um erro, tente mais tarde!\" />\n                <Link to=\"/\">\n                    <Button onclick={() => { }} text=\"Voltar pra Home\" />\n                </Link>\n            </article>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}